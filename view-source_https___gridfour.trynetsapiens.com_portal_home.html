

<!DOCTYPE html>
<html lang=en>
<head>
<meta http-equiv="Content-type" content="text/html;charset=utf-8" />
<meta name="robots" content="noindex">
    <!--GOOGLE ANALYTICS-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-97865765-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-97865765-1');
</script>
    <!--GOOGLE ANALYTICS-->
        <title>
    Manager Portal - Home    </title>
    

        <link rel="shortcut icon" type="image/x-icon" href="https://gridfour.trynetsapiens.com/ns-api/?object=image&action=read&filename=favicon.gif&server=gridfour.trynetsapiens.com&territory=gridfour_reseller&domain=grid4comm" />
    <link rel="icon" type="image/x-icon" href="https://gridfour.trynetsapiens.com/ns-api/?object=image&action=read&filename=favicon.gif&server=gridfour.trynetsapiens.com&territory=gridfour_reseller&domain=grid4comm" />
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/portal/css/basicCSS.php?version=1741740988&ver=44.3.1-beta.29  " type="text/css">
    <link rel="stylesheet" href="/portal/css/portal.php?ver=4431beta29 &background=%2354adfb&primary1=%2354adfb&primary2=%232f8bf5&font=Arial&footercolor=%23fafafa&bar1=%2354adfb&bar2=%232f8bf5" type="text/css">
    
    <link rel="stylesheet" href="https://cdn.statically.io/gh/paulhshort/grid4-netsapiens-skin/main/grid4-netsapiens.css?=1.0.11" type="text/css">
            <script type="text/javascript">


        if (location.pathname.length > 85 && (
            location.pathname.indexOf('portal/home/index') > 0 || 
            location.pathname.indexOf('portal/agents/index/') > 0 || 
            location.pathname.indexOf('portal/agents/index/') > 0 
            )
        )
        {
            //This logic will prevent the url from getting the tokens viewable. 
            const pathArray = location.pathname.split('/');
            const newPath = pathArray.slice(0, 4).join('/')+"?uiconfig=reset";
            window.location = window.location.origin+newPath;
        }

        if (location.pathname.length > 10 && (location.pathname.indexOf('portal/home') > 0 ))
        {
            if (location.search && location.search.includes('a=') && location.search.includes('c='))
            {
                //This logic will prevent the url from getting the tokens viewable. 
                const pathArray = location.pathname.split('/');
                const newPath = pathArray.slice(0, 4).join('/')+"?uiconfig=reset";
                window.location = window.location.origin+newPath;
            }
        }

        /* css and styles */
        var cssPrimary1 = '#54adfb';
        var cssPrimary2 = '#2f8bf5';
        var faviconUrl = 'https://gridfour.trynetsapiens.com/ns-api/?object=image&action=read&filename=favicon.gif&server=gridfour.trynetsapiens.com&territory=gridfour_reseller&domain=grid4comm';
        var SNAPmobileWebName ='Grid4 Web Calling';
        var SNAPmobileWebenabled = true;

        /* user and session info */
        var message_sessions = [{"Messagesession":{"session_id":"9a15384b9099427e55b0e3a1aeaa9cfd","user":"1004","domain":"gridfour","remote":"1004@gridfour","smsani":"","last_timestamp":"2025-06-03 19:35:43","start_timestamp":null,"last_mesg":"907045452","last_sender":"1004@gridfour","last_status":"read","muted":"no","term_queue":null,"queue_status":null,"queue_session_id":null,"last_mesg_type":"chat-vid","last_mesg_media_type":"","last_mesg_media_size":"0","session_type":"","session_name":""}},{"Messagesession":{"session_id":"d3b79ba201e9202e3ccd601c37444eba","user":"1004","domain":"gridfour","remote":"1009@gridfour","smsani":"","last_timestamp":"2025-06-03 19:17:02","start_timestamp":null,"last_mesg":"512951861","last_sender":"1004@gridfour","last_status":"read","muted":"no","term_queue":null,"queue_status":null,"queue_session_id":null,"last_mesg_type":"chat-vid","last_mesg_media_type":"","last_mesg_media_size":"0","session_type":"","session_name":""}}];
        var current_domain = "grid4comm"; //will always be the currently viewed domain
        var sub_domain = 'gridfour'; //might not always be the currently viewed domain
        var sub_user = "1004";
        var sub_reseller = "gridfour_reseller";
        var sub_scope = "Super User";
                var sub_site = "Site One";
                  var scope_mode = "admin";
        var omp_level = "navigation_omp";
        var sub_email = "mshopkins@grid4.com";
        var sub_name = "Marc Hopkins";
        var sub_time_zone = "America\/New_York";
        var custom_greetings = [];
        custom_greetings[1]= '';
        custom_greetings[2]= '';
        custom_greetings[3]= '';
        custom_greetings[4]= '';
        custom_greetings[5]= '';
        custom_greetings[6]= '';
        custom_greetings[7]= '';
        custom_greetings[8]= '';
        custom_greetings[9]= '';
        custom_greetings[10]= '';
        var sub_uri = '1004@gridfour';
        var server_name = 'gridfour.trynetsapiens.com';
        var range_interval = '4 HOUR';
        var servertime = '2025-06-04 17:16:00';

        var colorArray = ["#396AB1","#DA7C30","#3E9651","#CC2529","#535154","#6B4C9A","#922428","#948B3D"];

        /* uc features config */
        var enableScreenShare = false;
        var enableChatUC = true;
        var enableChatSMS = false;
        var enableVideo = true;
        var isWebrtc = true;
        var videoUrl = "video"; //doesn't seem to be used?
        var smsnumbers = [];
        var mmsnumbers = "";
        var groupMmsNumbers = "";
        var video_id = 319121364 // '123456789';
        var web_phone_postfix = 'wp';
        var shareUrl = '';

        /* portal features config */
        var PORTAL_AGENT_SCREEN_POP_URL = '';

        var PORTAL_PHONENUMBER_REMOVE_PLUS_ON_CALL = true;

        var PORTAL_HTML5_NOTIFICATIONS = true;
        var PORTAL_PHONENUMBER_HIDE_DOMESTIC_ONE = false;
        var PORTAL_PHONENUMBER_REMOVE_POUND_PREFIXES = true;

        var PORTAL_WEBPHONE_NEW_TAB_VIEW = true;
        var PORTAL_CLICK_TO_CALL_USE_AUTO = false;
        var PORTAL_HOME_OMP_SHOW_MEETING = true;
        var PORTAL_VIDEO_NAME = 'Grid4 HD Conferencing';
        var max_days = 90;
        var popup_calls_enabled = true;
        var popup_allow_complete = true;
        var popup_show_notes = true;
        var hideInboundConferencePopups = true;
        var recordCallButton = false;
        var notesClear = false;
        var portalDateFormat = 'MM/DD/YYYY';
        var portalTimeFormat = 'h:mm a';

        var PORTAL_CRADLE_TO_GRAVE_FEATURE_NAME = 'Cradle To Grave';

        var PORTAL_CALLHISTORY_RECORDING_PRELOAD = 'none';
        var rootPath = '/portal';
        var preferMP4 = false;
        var reversContactLookup = {};
        var PORTAL_LOCALIZATION_NUMBER_FORMAT = 'US';
        var PORTAL_PHONENUMBER_US_DOMESTIC = 'yes';
        var PORTAL_INVENTORY_ALLOW_PLUS_SMS_NUMBER = 'no';
        var PORTAL_CALL_QUEUE_AGENT_SHOW_STATUS_COL = 'yes' == 'yes';

        var PORTAL_PREMIUM_VIDEO_ENABLED = false;
        if ('1') {
           PORTAL_PREMIUM_VIDEO_ENABLED = 'no' == 'yes';
        }
        var PORTAL_VIDEO_ENABLED = 'yes' == 'yes';
    </script>
    <script type="text/javascript" src="/portal/locale/en_us/LC_MESSAGES/i18nJS.js"></script>

        <script src="//d2wy8f7a9ursnm.cloudfront.net/v6/bugsnag.min.js"></script>
    <script>
        
        var bugSnagOptions = {
          //apiKey: '3592d94420a161d7668f3381e468db5a', pre v42
          apiKey: '52c9505b136ed8ed034f59c542479a78',
          appVersion: "44.3.1-beta.29",
          appType: 'client',
          hostname: server_name,
          releaseStage: "beta"
        };

        window.bugsnagClient = bugsnag(bugSnagOptions);

        bugsnagClient.metaData = {
            ucFeatures: {
                enableChatSMS: enableChatSMS,
                enableChatUC: enableChatUC,
                enableScreenShare: enableScreenShare,
                enableVideo: enableVideo,
                isWebrtc: isWebrtc,
                videoId: video_id,
                videoUrl: videoUrl,
            },
            user: {
                id: sub_user,
                currentDomain: current_domain,
                domain: sub_domain,
                reseller: sub_reseller,
                scope: sub_scope,
                timezone: sub_time_zone,
            },
            server: {
                name: server_name,
            },
        };
    </script>
            <script type="text/javascript" src="/portal/js/basicJS.php?version=1741740988&ver=44.3.1-beta.29 "></script>
    
    


    <script type="text/javascript">
        const TOKEN_LS_KEY = 'ns_t';
        localStorage.setItem(TOKEN_LS_KEY, "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJucyIsImV4cCI6MTc0OTE0MjYyMCwiaWF0IjoxNzQ5MDU2MjIwLCJpc3MiOiJncmlkZm91ci50cnluZXRzYXBpZW5zLmNvbSIsImp0aSI6IjI0YjQ3NGY5YTE0NTEzMDQ2YmQwMDcwZDhhMGE4NjIyYjJjZjJhZWQiLCJzdWIiOiIxMDA0QGdyaWRmb3VyIiwidGltZV9vdXQiOjg2NDAwMDAwLCJkb21haW4iOiJncmlkZm91ciIsInRlcnJpdG9yeSI6ImdyaWRmb3VyX3Jlc2VsbGVyIiwidXNlciI6IjEwMDQiLCJ1c2VyX2VtYWlsIjoibXNob3BraW5zQGdyaWQ0LmNvbSIsInVzZXJfc2NvcGUiOiJTdXBlciBVc2VyIiwiZGlzcGxheU5hbWUiOiJNYXJjIEhvcGtpbnMiLCJtYXNrX2NoYWluIjpudWxsLCJkZXBhcnRtZW50IjoiIiwibG9naW4iOiIxMDA0QGdyaWRmb3VyIn0.4d24iiNFF8NKZ9nyhFg3hHz3_4air8NwUMneNzfqASQ");
    </script>

    <script type="text/javascript" src="/portal/js/selectivity-full.js"></script>
<link rel="stylesheet" href="/portal/css/selectivity-full.css" type="text/css">
    
    <script type="text/javascript" src="/portal/cjs/socket-chat.js?ver=44.3.1-beta.29 "></script>
    <script type="text/javascript" src="/portal/cjs/socket-image.js"></script>
    <script type="text/javascript" src="/portal/cjs/emoji-chat.js"></script>
    
    
    
    <script type="text/javascript">
                netsapiens.autocomplete.setDomainList({"BTsWidgetFactory":"test build","CRC":"Limitations","grid4comm":"Grid4 Communications","grid4lab":"Grid4 Lab","gridfour":"made via api","gridfour_complete":"Grid4 Communications - Complete Migration","gridfour_corpNewTest":"Migration domain for Grid4 Communications","gridfour_test_20250602_164625":"Service line test domain created at 20250602_164625","gridfour_test_20250602_164829":"Service line test domain created at 20250602_164829","gridfour_test_20250602_164925":"Service line test domain created at 20250602_164925","Hospitality":"Hospitality test","MarcDomain":"MarcH Testbed","netsapiens.com":"Netsapiens Test Domain","RemaxBG":"Remax Royal Oak (test)","trainingdomain1":"Training domain created via API","trainingdomain2":"Training domain created via API","trainingdomain3":"test","UNITEDCHILDHEADSTARTtest":"TEST"});
    /** socket.io setup and subscriptions **/
try {
    //io.enable('browser client minification');
    //io.enable('browser client etag');
    //io.enable('browser client gzip');
    var socket_urls_index = 0;
    var socket_urls = ["gridfour-core-031-mci.gridfour.ucaas.run:8001"];
    function reconnectSocket(){
      socket = null;
      socket_urls_index = socket_urls_index+1;
      if (!socket_urls[socket_urls_index])
        socket_urls_index = 0;
      setTimeout(connectSocket(socket_urls_index),500);
    }
    var socket = null;
    var subscriptions = [];
    var authid = 'portalwebroothome17490573601004';

    function connectSocket(index){
      socket = io.connect("https://" +socket_urls[socket_urls_index], {
          secure: true,
          transports: ['websocket'],
          pingInterval: 1000 * 25,
          pingTimeout: 1000 * 26,
          reconnection: false
      });

      socket.on('connect', function() {
        console.log('...socket connect()');
        for (var i = 0; i < subscriptions.length; i++) {
          subscriptions[i].application = 'portal';  
          if (i>8) return; //hack for too many logged subscriptions;
          if (typeof window.localStorage.ns_ts != 'undefined')
            subscriptions[i].bearer = window.localStorage.ns_ts
          socket.emit('subscribe', subscriptions[i]);
        }
      });

      socket.on("disconnect", () => {
        console.log('...socket disconnect');
        reconnectSocket();

      });

      socket.on("connect_error", () => {
        console.log('...socket connect_error');
        reconnectSocket();

      });

      socket.on('reconnect', function() {
          console.log('...socket reconnect');
          for (var i = 0; i < subscriptions.length; i++) {
            subscriptions[i].application = 'portal';
            if (i>8)
              return; //hack for too many logged subscriptions;
              if (typeof window.localStorage.ns_ts != 'undefined')
                subscriptions[i].bearer = window.localStorage.ns_ts
              socket.emit('subscribe', subscriptions[i]);

          }
      });

    }

    connectSocket(socket_urls_index);

    if(enableChatUC || enableChatSMS) {
        //subscribe to all the socket goodies for chat
        sGetUcChatData(sub_domain, sub_user);
        if(enableChatUC)
            sGetOldChatData();
    }
    sGetVoicemailData(sub_domain, sub_user);
} catch (e) {};
</script>
    <meta name="google-translate-customization" content="ecd0a757160343b9-691bbad29429d44e-g714e11a4e3a1889a-1a"></meta>
</head>
<body class="">

<style>
.modal-header-iotum-status {
    padding: 9px 15px;
    border-bottom: 1px solid #eee;
}

.modal-body-iotum-status {
    display: flex;
    padding: 16px;
}
.modal-footer-iotum-status {
    padding: 14px 15px 15px;
    margin-bottom: 0;
    text-align: right;
    background-color: #f5f5f5;
    border-top: 1px solid #ddd;
    -webkit-border-radius: 0 0 6px 6px;
    -moz-border-radius: 0 0 6px 6px;
    border-radius: 0 0 6px 6px;
    -webkit-box-shadow: inset 0 1px 0 #fff;
    -moz-box-shadow: inset 0 1px 0 #fff;
    box-shadow: inset 0 1px 0 #fff;
}

.modal-iotum-status {
    display: none;
}

</style>

<div class="modal fade modal-iotum-status" id="moreInfoModal" tabindex="-1" role="dialog" aria-labelledby="moreInfoModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header-iotum-status">
        <h3 class="modal-title" id="moreInfoModalLabel">
          Premium Video Processing Errors          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </h3>
      </div>
      <div class="modal-body-iotum-status">
      </div>
      <div class="modal-footer-iotum-status">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
function checksubIotumUpdates() {
    // check local storage for premium_video_subscribe_domain
    var domain = localStorage.getItem('premium_video_subscribe_domain');
    subscribeToIotumUpdates(domain);
}

function subscribeToIotumUpdates(domain) {
    // NOTE: this is a misnomer, node will not use this room name. it will instead use ${domain}-<>-uciotum
    // var iotumRoom = `iotum-status-updates-room-${domain}`;

    let subscriptionPush = {
        domain,
        type: 'uciotum',
        'bearer': localStorage.ns_t,
        // room: iotumRoom
    };

    // if subscriptions already have the room, return
    if (subscriptions.includes(subscriptionPush)) {
        console.log('Already have a subscription for premium video, do not resub again');
        return;
    }

    subscriptions.push(subscriptionPush);

    // set the room in local storage
    localStorage.setItem('premium_video_subscribe_domain', domain);

    socket.emit('subscribe', subscriptionPush);

    socket.on('iotum-status-update', (data) => {
        console.log('Received ping from server:', data);

        if (!data || !data.room.includes('iotum')) {
            return;
        }

        // decode errorMessageCompilation, example of string "{"code":400,"message":"Please fill out all fields."} (Count: 1)"
        let errorMessages = [];
        if (data.errorMessageCompilation) {
            let errorMessagesRaw = data.errorMessageCompilation.split(" (Count:");

            for (let i = 0; i < errorMessagesRaw.length - 1; i++) {
                let jsonPart = errorMessagesRaw[i];
                let countPart = errorMessagesRaw[i + 1].trim(")");
                // remove anything that was not a number in countPart and convert to number, if not possible, just set to 0
                countPart = parseInt(countPart.replace(/\D/g, '')) || 0;

                let decodedMessage = JSON.parse(jsonPart);
                if (decodedMessage && decodedMessage.message) {
                    errorMessages.push({
                        message: decodedMessage.message,
                        count: countPart,
                        code: decodedMessage.code || 'Unknown code'
                    });
                }
            }
        }

        // console.log('errorMessages', errorMessages);

        // Show the error messages in modal-body-iotum-status in a separate function
        showIotumStatusUpdate(data, errorMessages);

        // Remove any existing status flash messages
        $('.flashMessage').remove();

        // Show the status monitor when data starts streaming
        if (data.processedUsers === 0) {
            jsFlashDismissible(_('Premium Video host processing started:') + ' ' + data.processedUsers + ' ' + _('out of') + ' ' + data.totalUsers, 'info');
        } else if (data.processedUsers < data.totalUsers) {
            jsFlashDismissible(_('Premium Video host processing:') + ' ' + data.processedUsers + ' ' + _('out of') + ' ' + data.totalUsers + ', ' + _('Success:') + ' ' + data.successUsers + ', ' + _('Errors:') + ' ' + data.errorUsers + ', ' + _('Contacts Processed:') + ' ' + data.processedContacts + ' ' + _('out of') + ' ' + data.totalContacts, 'info');
        } else {
            // Show final completion message
            if (data.successUsers === data.totalUsers) {
                jsFlashDismissible('<strong>' + _('Premium Video host processing complete:') + '</strong> ' + _('All') + ' ' + data.totalUsers + ' ' + _('users processed successfully.'), 'success');
            } else {
                jsFlashDismissible('<strong>' + _('Premium Video host processing complete:') + '</strong> ' + data.successUsers + ' ' + _('out of') + ' ' + data.totalUsers + ' ' + _('users processed successfully,') + ' ' + data.errorUsers + ' ' + _('errors occurred.'), 'warning');
            }

            // Once complete, should unsubscribe from the room
            socket.emit('unsubscribe', data.room);
            console.log(`Unsubscribed from room: ${data.room}`);

            // Remove the room from local storage
            localStorage.removeItem('premium_video_subscribe_domain');
        }
    });
}

function showIotumStatusUpdate(data, errorMessages) {
    // Get the modal body element
    const modalBody = document.querySelector('.modal-body-iotum-status');
    
    // Clear previous content
    modalBody.innerHTML = '';
    
    // Create the error message content
    let content = '';
    
    if (errorMessages.length > 0) {
        // Assuming the first error message contains the main information
        const mainError = errorMessages[0];
        
        // If there are specific user IDs mentioned, add them
        // If error message is Please fill out all fields, show special message
        if (mainError.message.includes("Please fill out all fields")) {
            content += '<p>' + _('Hosts could not be added for ') + mainError.count + ' ' + _('users') + '.';

            // console.log('this is main error count: ', mainError.count);
            // console.log('this is data.errorUserExtentions: ', data.errorUserExtentions);
            // console.log('this is data.errorUserExtentions length: ', data.errorUserExtentions.length);

            // if the user count matches the count of the errorUserExtensions, show the errorUserExtensions
            if (mainError.count == data.errorUserExtentions.length) {
                content += ' ' + _('Add email addresses for the following users and save your Premium Video settings again to complete setup.') + '<br>' + '<br>';
                content += data.errorUserExtentions.join(',') + '</p>';
            } else {
                // if the user count does not match count, just show the modified error message without the user IDs
                content += '<br>' + _('Add email addresses for all users and save your Premium Video settings again to complete setup.') + '</p>';
            }
        } else {
            content += `<p>${mainError.message}</p>`;
        }

        if (mainError.message.includes("Add email addresses")) {
            const userIds = errorMessages.map(error => error.code).join(', ');
            content += `<p>${userIds}</p>`;
        }
    } else {
        content = '<p>' + _('No specific errors to display.') + '</p>';
    }
    
    // Set the content of the modal body
    modalBody.innerHTML = content;
}
</script>

<div class="fixed-container">
    
        <div id="domain-message" class="alert alert-info">
        <div class="domain-message-container">
            <div class="domain-message-buttons">
                <a class="btn" href="/portal/domains/unmanage"><i class="fa fa-reply"> </i> View All Domains                </a>



            </div>

            <div class="domain-message-text ">

                <h5>You are viewing the <span class="domain-description">Grid4 Communications</span> (grid4comm) domain.
                </h5>


            </div>

            <div class="domain-message-buttons">

                
                    <button data-modal-path="/portal/domains/edit/grid4comm" class="btn" title="" onclick="NSDomainSettings.clickedSettingsButton(this);" data-target="#write-domain" data-backdrop="static" data-original-title="Edit">Edit Domain                    </button>


                                                <a class="btn" href="/portal/domains/unmanage/uiconfigs/grid4comm">Configs                          </a>
                                </div>
            <div class="clearfix"></div>
        </div>
    </div>
            <div id="flashContainer"></div>
</div>

<div id="domain-message" class="alert alert-info"></div>

<div class="page-container">
    <div id="write-domain" class="modal hide fade">
        <div class="loading-container relative" style="top:0;padding: 50px 0;">
            <div class="loading-spinner la-ball-spin-clockwise">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>
    <div id="snaptelco" class="modal hide fade">
    <div class="loading-container relative" style="top:0;padding: 50px 0;">
        <div class="loading-spinner la-ball-spin-clockwise">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    </div>
    <div class="dock-overlay">
        <div class="dock-overlay-inner dock-popup-overlay">
        </div>
        <div class="dock-overlay-inner dock-contacts-overlay">
                                                <div class="dock-column dock-contacts">
                <div class="dock-column-inner">
                                        <div class="dock-popup">
                        <div class="dock-head">
                            

                            <div class="dock-head-title">
                                <span class="dock-name">Contacts</span>
                            </div>
                            <div class="dock-head-buttons">
                                <button class="dock-minimize dock-head-button" title="Minimize"><i class="icon-maximize icon-white"></i></button>
                                <button class="dock-popout dock-head-button" title="Popout" onclick="openContactsPopoutWindow();return false;"><i class="icon-share-alt icon-white"></i></button>
                            </div>
                            


                        </div>

                        <div class="dock-body hide">

                        </div>

                    </div>
                                    </div>
            </div>
                                </div>
    </div> <!-- /dock-overlay -->


    <div id="user-profile" class="modal hide fade">
           <div class="loading-container relative" style="top:0;padding: 50px 0;">
                <div class="loading-spinner la-ball-spin-clockwise">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
    </div>

    <div class="wrapper ">
        <div id="header">
            
                        <div id="header-logo">

                                <img src="https://gridfour.trynetsapiens.com/ns-api/?object=image&action=read&filename=portal_main_top_left.png&server=gridfour.trynetsapiens.com&territory=gridfour_reseller&domain=grid4comm" />
            </div>
                        
            <div id="header-user">

                <!-- new user toolbar WIP -->
                <ul class="user-toolbar">
                    <!-- show progress of node process import it from views -->
                    <li><a href="https://www.grid4.com" target="_blank" id="Link">Grid4 Knowledgebase</a></li><li><span class="dropdown language-dropdown"><i class="icon icon-th"></i> <a class="dropdown-toggle" data-toggle="dropdown">Apps<i class="caret"></i></a><ul id="app-menu-list" class="dropdown-menu" role="menu"><li><a  target="_blank"  href="/portal">User Portal</a></li><li><a  target="_blank"  href="/portal/attendant">Grid4 Attendant Console</a></li><li><a href="javascript:launchWebPhone();">Grid4 Web Calling</a></li><li><a  target="_blank"  href="/video">Grid4 HD Conferencing</a></li><li><a  target="_blank"  href="/analytics">Grid4 Analytics</a></li></ul></span></li>
                    <li class="dropdown">
                        <i class='nsicon nsicon-user'></i>
                        <span class="dropdown-msg-count badge badge-important hide">0</span>
                        <a class="dropdown-toggle account-dropdown" data-toggle="dropdown">Marc Hopkins (1004)<i class="caret"></i></a>
                        <ul class="dropdown-menu pull-right" role="menu">
                            <li><a href="/portal/login/touser" class="header-link" id="Link">My Account</a></li><li><a href="/portal/login/touser/voicemails" class="header-link" id="Link">Messages <span class="dropdown-msg-count badge badge-important hide">0</span></a></li><li class='divider'></li><li><a href="/portal/login/logout" id="logout" onclick="removeLocalStorageItems();" data-loading-text="Logging out...">Log Out</a></li>                        </ul>
                    </li>

                </ul>
                <!-- /end user-toolbar -->
            </div>
                                    <div id="navigation">
                <ul id="nav-buttons">
                    <li id="nav-home-manager" class=" nav-link-current"><a href="/portal/home" class="nav-link" id="LinkHomeIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Home</span><div class="nav-arrow"></div></a></li><li id="nav-users" class=""><a href="/portal/users" class="nav-link" id="LinkUsersIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Users</span><div class="nav-arrow"></div></a></li><li id="nav-conferences" class=""><a href="/portal/conferences" class="nav-link" id="LinkConferencesIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Conferences</span><div class="nav-arrow"></div></a></li><li id="nav-attendants" class=""><a href="/portal/attendants" class="nav-link" id="LinkAttendantsIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Auto Attendants</span><div class="nav-arrow"></div></a></li><li id="nav-callqueues" class=""><a href="/portal/callqueues" class="nav-link" id="LinkCallqueuesIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Call Queues</span><div class="nav-arrow"></div></a></li><li id="nav-timeframes" class=""><a href="/portal/timeframes" class="nav-link" id="LinkTimeframesIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Time Frames</span><div class="nav-arrow"></div></a></li><li id="nav-music" class=""><a href="/portal/music" class="nav-link" id="LinkMusicIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Music On Hold</span><div class="nav-arrow"></div></a></li><li id="nav-routeprofiles" class=""><a href="/portal/routeprofiles" class="nav-link" id="LinkRouteprofilesIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Route Profiles</span><div class="nav-arrow"></div></a></li><li id="nav-inventory" class=""><a href="/portal/inventory" class="nav-link" id="LinkInventoryIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Inventory</span><div class="nav-arrow"></div></a></li><li id="nav-callhistory" class=""><a href="/portal/callhistory" class="nav-link" id="LinkCallhistoryIndex"><div class="nav-button btn"></div><div class="nav-bg-image"></div><span class="nav-text">Call History</span><div class="nav-arrow"></div></a></li>                </ul>
            </div>
            <div id="navigation-subbar">
                <a href="/portal/home" class="navigation-title" id="LinkHomeIndex">Home</a>
                <a id="pageRefresh" href="#" class="btn subbar-btn helpsy" title="Refresh"><i class="icon-refresh"></i></a>

                
            </div>
        </div>

        <div id="content">
            
<div id="address-notify" class="modal hide address-notify">
	<div class="modal-header" style="display: block;">
		<button type="button" style="display: block;" class="close cancel" data-dismiss="modal" aria-hidden="true" onclick="$('#address-notify').modal('hide');">&times;</button>
	<h4 class="address-notify-modal-header">Add your emergency address</h4>	</div>

	<!--/modal-body-->
	<div class="modal-body" style="display: block;">
		<div>
		Your emergency address is not set, please edit your profile or contact your administrator.            <span class='current-address1'>
                            </span>
		</div>

		<div id='wrong-ip' class='hide'>
			Your current public IP address does not match the one on record for your emergency address. You may need to update your emergency address.            Current address: 

		</div>

		<div>
			<p class="muted" style="white-space: pre-line; margin-top: 16px;">			</p>
		</div>

		<a id="show-set-address-options" aria-hidden="true" onclick="showSetOptions();">Set address</a>


		<div id="address-container" class="hide">
			<form action="/portal/home/editUser/" id="user-edit" class="form-horizontal" method="post" accept-charset="utf-8"><div style="display:none;"><input type="hidden" name="_method" value="POST" /></div>
        






		</div>




	</div>
	<!--/modal-body-->

	<div class="modal-footer" style="display: block;">
		<button type="button" class="btn" data-dismiss="modal" aria-hidden="true" onclick="doNotShowAgain();">Do Not Show Again</button>

        <input id="save-address-btn-home" class="btn color-primary span2 saving saveBtn hide" update="#user-profile" complete="hideModalIf(&quot;#user-profile&quot;);" data-loading-text="Saving..." type="submit" value="Save" />
		<button id="ok-btn" type="button" class="btn" data-dismiss="modal" aria-hidden="true" onclick="$('#address-notify').modal('hide');">Close</button>
	</div>


	<input type="hidden" name="data[User][name]" id="UserName" />    <input type="hidden" name="data[User][id]" id="UserId" />    </form>
    

</div>


<script type="text/javascript">
    $(function() {
    	$.get("/portal/publicip.php", function(response) {
       		displayModal(response.ip);
        }, "json")

    });

    function displayModal(publicIP = '') {
    	if (localStorage.getItem('doNotShowAddressNotify_portal_'+sub_user+'@'+sub_domain)) {
          	$("#address-notify").modal('hide');
          	document.getElementById("address-notify").style.visibility="hidden";
    		return;
    	}

        var showAddressNotifyModal = false;

				var defaultedAddress ='';

        var ipAddressCondition = false;
        var ipAddressRead = undefined;
                // compare ipAddressRead (the ipaddress stored on server, to the client ipaddress right now),
        // if different, then show the error
		if (publicIP != ipAddressRead && ipAddressRead != undefined && ipAddressRead != '') {
			$("#wrong-ip").removeClass('hide');
            $(".current-address1").addClass('hide');
			ipAddressCondition = true;

			// change title text
			$(".address-notify-modal-header").text("Update your emergency address");
		}

		// if the address is a passed along address OR public ips dont match AND the login just occured, then show the modal
        if ((defaultedAddress || ipAddressCondition) && showAddressNotifyModal && !localStorage.getItem('doNotShowAddressNotify')) {
          $("#address-notify").modal('show');
        }

    }

    function doNotShowAgain() {
        $("#address-notify").modal('hide');
        localStorage.setItem('doNotShowAddressNotify_portal_'+sub_user+'@'+sub_domain, true);
    }

    // shows the save button and the address options. hides the button you pressed
	function showSetOptions() {
		$("#save-address-btn-home").removeClass('hide');
		$("#address-container").removeClass('hide');
		$("#show-set-address-options").addClass('hide');
		$("#ok-btn").addClass('hide');
	}


	// grab php list of addresses and convert into a javascript object, this is for pretty print and also fill in values for editting an address
	var addressesJS = undefined;
 // it is an object, not array
	if (addressesJS != undefined && addressesJS['address'] != undefined) {
		addressesJS = addressesJS['address'];
	}

	var userSite = null || undefined;

    var chosenAddressId = undefined;
    
	// get chosen address
	if (addressesJS !== undefined && chosenAddressId !== undefined && addressesJS.length) {
		let chosenAddress = addressesJS.find(o => o.address_id === chosenAddressId);
		if (chosenAddress != undefined && (chosenAddress['user'] != null || sub_user != null)) {
            // chosenaddress does not match extension, so hide edit-address
            $('#edit-address').addClass('hide');
            // delete-address hide too
            $('#delete-address').addClass('hide');
            $('#add-location').removeClass('hide');
        } else {
            // chosen address DOES match extension, then do not show add location
            $('#add-location').addClass('hide');
        }
	}

	function validateAddress() {
		$('.valBtn').button('loading');

		// set IP address of where the user is at here
		let public_ip;

		// might need to put this in a try catch

		$.get("/portal/publicip.php", function (response) {
			public_ip = response.ip;

			$.post('/portal/inventory/validateAddress2', $("#user-edit").serialize())
				.done(function (data) {

					var json = JSON.parse(data);
					// console.log('this is json:', json);

					if (json['address']['valid'] == true) {
						// address was valid
						// set save to be enabled
						$('.saveBtn').prop('disabled', false);

						// stringify the json of json['address']['standardized'] and set it to a value above

						var standardizedString = JSON.stringify(json['address']['standardized']);

						// set standardized in the form, hidden field but still used in database
						document.getElementById("stardardized").value = standardizedString;

						// set carrier in the form, hidden field but still used in database
						var carrier = json['address']['carrier'];
						document.getElementById("carrier").value = carrier;


						document.getElementById("public_ip").value = public_ip;

						// hide validate button after validation
						$(".valBtn").addClass("hide");

						$("#validate-address-message").addClass("text-success").text("The address has been confirmed and any suggested changes have been applied.");

                        applyAdjustedAddressToFields(json['address']);
					} else {
						// address was not valid
						$('.saveBtn').prop('disabled', true);

						$("#validate-address-message").text("The entered address could not be found. Please check the configuration and try again.");
						$("#validate-address-message").removeClass('text-success text-error');
						$("#validate-address-message").addClass("text-error");
					}

					$('.valBtn').button('reset');
				});
		}, "json"); // end of getting ip address
		return false;
	}

    // input is the full validation address return from the API
    // will change the text input fields to the standardized fields
    function applyAdjustedAddressToFields(address) {
        if (address['carrier'] == "bandwidth") {
            let standardized = address['standardized'];

            let predirectional = "";
            if (standardized['PreDirectional'] != undefined) {
                predirectional = standardized['PreDirectional']+" ";
            }

            let postdirectional = "";
            if (standardized['PostDirectional'] != undefined) {
                postdirectional = standardized['PostDirectional']+" ";
            }


            document.getElementById("address_line_1").value = standardized['HouseNumber'] + " " +  predirectional + standardized['StreetName'] + " " + standardized['StreetSuffix'] + " " +  postdirectional;

            document.getElementById("city").value = standardized['City'];

            let zipcode = "";
            if (standardized['PlusFour'] != undefined) {
                zipcode = "-"+standardized['PlusFour'];
            }

            document.getElementById("zip").value = standardized['Zip']+zipcode;
        } else if (address['carrier'] == "brightlink") {
            let standardized = address['standardized'];


            let predirectional = "";
            if (standardized['preDirectional'] != undefined && standardized['preDirectional'] != '') {
            predirectional = standardized['preDirectional']+" ";
            }

            let postdirectional = "";
            if (standardized['postDirectional'] != undefined && standardized['postDirectional'] != '') {
            postdirectional = standardized['postDirectional']+" ";
            }


            document.getElementById("address_line_1").value = standardized['houseNumber'] + " " +  predirectional + standardized['streetName'] + " " + standardized['streetSuffix'] + " " +  postdirectional;

            document.getElementById("city").value = standardized['city'];

            let zipCode = standardized['zip'];
            if (standardized['plusfour'] != null && standardized['plusfour'] != undefined && standardized['plusfour'] != '') {
                zipCode = standardized['zip']+"-"+standardized['plusfour'];
            }

            document.getElementById("zip").value = zipCode;

        } else if (address['carrier'] == "inteliquent") {
            let standardized = address['standardized'];

            // double check the inteliquent method, sometimes it will send a standardized object of null
            if(standardized['validationMsg'] == undefined || (standardized['validationMsg'] != "Valid address" && !standardized['validationMsg'].includes("Corrected to valid address"))){
                $("#validate-address-message").removeClass('text-success text-error');
                $('.valBtn').button('reset');

                $("#validate-address-message").text("The entered address could not be found. Please make sure there are no errors or enter a different address.")
                $("#validate-address-message").addClass("text-error");
                $('.valBtn').prop('disabled', true).show();
                $('.savBtn').prop('disabled', true).hide();

                return;
            }

            document.getElementById("address_line_1").value = standardized['HouseNumber'] + " " + standardized['StreetName'] + " " + standardized['StreetSuffix'];

            document.getElementById("city").value = standardized['City'];

            document.getElementById("zip").value = standardized['Zip'];
        } else if (address['carrier'] == "voipinno") {
            let standardized = address['standardized'];

            document.getElementById("address_line_1").value = standardized['address_line_1'];
            document.getElementById("city").value = standardized['City'];
            document.getElementById("zip").value = standardized['Zip'];

        }
    }


	// swap for Canadian provinces
	$(function () {
		$('#country_code').change(function () {
			$('#state_code').val('');
			if ($('#country_code').val() == 'US') {
				$('#state_code option').show();
				$('.ca-prov').hide();
			} else {
				$('#state_code option').hide();
				$('.ca-prov').show();
			}
		})
	});

</script>

<div id="view-participants" class="modal hide fade fixed">
    <div class="loading-container relative" style="top:0;padding: 50px 0;">
        <div class="loading-spinner la-ball-spin-clockwise">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
</div>
    <div class="home-panel-main omp-home container-fluid">
        <div class="row-fluid">
            <div class="home-content span">
                            <div class="active-panel-home rounded show ">
                  <h6>
                      Current Active Calls                  </h6>
                  <div id="omp-active-body">
                    <div class="loading-container relative">
                        <div class="loading-spinner la-ball-spin-clockwise">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                  </div>
                  <div class="active-panel-home-meetings-parrent hide">
                    <div class="active-panel-home-meetings  show hide">
                        <h6>
                            Current Meetings                        </h6>
                        <div id="omp-active-body-meetings">
                          <div class="loading-container relative">
                              <div class="loading-spinner la-ball-spin-clockwise">
                                  <div></div>
                                  <div></div>
                                  <div></div>
                                  <div></div>
                                  <div></div>
                                  <div></div>
                                  <div></div>
                                  <div></div>
                              </div>
                          </div>
                        </div>
                    </div>
                  </div>
              </div>

                              <div class="graphs-panel-home rounded show">
                    <h6>
                        Call Graph                        <a href="javascript:void(0)" onclick="printActiveCallsGraph()" class="helpsy home-print" title="Print"><i class="icon-print"></i></a>
                    </h6>

                    <div id="omp-callgraphs-body">
                        <div class="chart-container">
                            <h5 id="active-calls-graph-title" class="active-calls-graph-buttons hide">
                                <div class="dropdown">
                                    <a class="dropdown-toggle type-of-graph" id="reports-btn" data-toggle="dropdown" data-object="call">
                                        Peak Active Calls<span class="caret"></span></a>
                                    <ul class="dropdown-menu hideonprint" role="menu" aria-labelledby="dLabel">
                                        <li>
                                            <a id="active-calls" onclick="showCurrentDiv(this.id)">
                                                Peak Active Calls                                            </a>
                                        </li>
                                        <li>
                                            <a id="call-volumes" onclick="showCurrentDiv(this.id)">
                                                Call Volume                                            </a>
                                        </li>
                                        <li>
                                            <a id="call-duration" onclick="showCurrentDiv(this.id)">
                                                Total Minutes                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <span>&nbspby&nbsp</span>
                                <div class="dropdown time-frame">
                                    <a class="dropdown-toggle type-of-date" id="date-reports-btn" data-toggle="dropdown" data-report="hour">
                                        Hour<span class="caret"></span></a>
                                    <ul class="dropdown-menu hideonprint" role="menu" aria-labelledby="dLabel">
                                        <li>
                                            <a id="res-by-day" onclick="showCurrentDiv(this.id)">
                                                Day                                            </a>
                                        </li>
                                        <li>
                                            <a id="res-by-hour" onclick="showCurrentDiv(this.id)">
                                                Hour                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <span>&nbspfor&nbsp</span>
                                <div class="dropdown">
                                    <a class="dropdown-toggle type-of-result" id="type-reports-btn" data-toggle="dropdown" data-type="all">
                                        All Calls<span class="caret"></span></a>
                                    <ul class="dropdown-menu hideonprint" role="menu" aria-labelledby="dLabel">
                                        <li>
                                            <a id="res-by-all" onclick="showCurrentDiv(this.id)">
                                                All Calls                                            </a>
                                        </li>
                                        <li>
                                            <a id="res-by-offnet" onclick="showCurrentDiv(this.id)">
                                                Off-net Calls                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </h5>
                            <div style='width: 100%; height: 500px;' id="chart_div" class="chart-container"></div>
                        </div>
                    </div>
                </div>
                            </div>
            <div class="home-sidebar span">
                <div class="stats-panel-home rounded show">
                    <h6>
                        Users and Applications                        <a href="javascript:void(0);" class="home-refresh helpsy" id="user-application" title="Refresh"><i class="icon-refresh"></i></a></h6>
                    <div id="omp-users-applications">
                        <div class="loading-container relative" style="top:0;padding: 50px 0;">
                                <div class="loading-spinner la-ball-spin-clockwise">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>
                    </div>
                </div>
                <div class="stats-panel-home rounded show">
                    <h6>
                         Usage Statistics                        <a href="javascript:void(0);" class="helpsy home-refresh" id="usage-graph" title="Refresh"><i class="icon-refresh"></i></a></h6>
                    <div id="omp-usage-stats">
                           <div class="loading-container relative" style="top:0;padding: 50px 0;">
                                <div class="loading-spinner la-ball-spin-clockwise">
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                    <div></div>
                                </div>
                            </div>
                        <div class="stats-tables hide">
                            <table class="usage-stats-table stats-table"></table>
                            <h6>
                                This month                            </h6>
                            <table class="usage-stats-this-month stats-table"></table>
                            <h6>
                                Previous month                            </h6>
                            <table class="usage-stats-last-month stats-table"></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /row-fluid -->

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript" src=/portal/js/views/home/active-calls-graph.js></script>    <script type="text/javascript">
        // Load the Visualization API and the piechart package.

        google.charts.load('current', {packages: ['corechart','timeline']});

        var type = $('.type-of-result').data('type');
        var scope = 'domain';
        if (sub_scope == "Site Manager")
          scope = 'site';

        $(function() {


            var pdefault = $.cookie("activeGraphPeriodOmp");
            lastPeriod = pdefault != null ? pdefault : 'hour';
            $('#date-reports-btn').data("report",lastPeriod);


            if ('show' == 'show') homeActivecalls();
            if ('show' == 'show') homeBirdges();

            if ('show' == 'show') {
                homeStats();
                usageGraph(scope, 'show', type, 'show');
            }
            $('#usage-graph').click(function() {
                $('#omp-usage-stats .stats-tables').hide();
                $('#omp-usage-stats .loading-spinner').show();
                $('.usage-stats-table').empty();
                $('.usage-stats-this-month').empty();
                $('.usage-stats-last-month').empty();
                usageGraph(scope, 'show', type, 'show');
            });

            function homeStats() {
                $.get('/portal/stats/home/', function(data) {

                    $('#omp-users-applications').html(data).hide().animate({
                        "height": "toggle",
                        "opacity": "toggle"
                    }, 800);

                    setInterval(function() {
                        bindPopovers();
                        if ($("#calls_table tbody").length > 0 && $("#active-calls span").length > 0) {
                            $("#active-calls span").html($("#calls_table tbody tr").length);
                        }
                    }, 500);

                });
            }

            function homeActivecalls() {
                $.get('/portal/calls/home/', function(data) {
                    try {
                        $('#omp-active-body').html(data).hide().animate({
                            "height": "toggle",
                            "opacity": "toggle"
                        }, 800);
                    } catch (e) {
                        log("error");
                        log(e);
                        log(data);
                    }
                    sGetCallsData('domain', 'grid4comm', '*');

                });
            }

            function homeBirdges() {
                if ('show' == 'show')
                $.get('/portal/conferences/homeomp', function(data) {
                    try {
                        $('#omp-active-body-meetings').html(data).hide().animate({
                            "height": "toggle",
                            "opacity": "toggle"
                        }, 800);
                    } catch (e) {
                        log("error");
                        log(e);
                        log(data);
                    }
                    //sGetCallsData('domain', 'grid4comm', '*');

                });
            }
            $('.stats-panel-home #user-application').on('click', function() {
                $('#omp-users-applications').html('<div class="loading-container relative" style="top:0;padding: 50px 0;">' +
                        '<div class="loading-spinner la-ball-spin-clockwise">' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                        '</div>' +
                    '</div>');

                if ('show' == 'show')
                    homeStats();
            });
            // Graphs
            var intervals = {};
            //destroy background post requests
            function clearAllInterval(except, arg) {
                $.each(intervals, function(key, val) {
                    if (key == except || val == null) {
                        return true;
                    }
                    window.clearInterval(val);
                });
                var itime = (arg.object !== 'cdr2') ? 300000 : 60 * 60 * 1000;
                if (arg.scope == "site")
                  arg.site = sub_site;


                intervals[except] = setInterval(function() {

                    drawActiveCallsForUser(arg);
                }, itime);
                expireDate = new Date();
                document.cookie = "activeGraphOmp=" + except + ';path=/portal/; expires=' + expireDate.setMonth(expireDate.getMonth() + 1);
            }

            function updatePeak(scope, type) {
                getHiqhwaterMarks(scope, type);

                function force() {
                    if (typeof highWatercurrentMonth!='undefined')
                      $('#high-water-current').html(highWatercurrentMonth);
                    if (typeof highWaterPrevMonth!='undefined')
                      $('#high-water-prev').html(highWaterPrevMonth);
                }
                setTimeout(force, 1500);
                setTimeout(force, 4500);
            }
            showCurrentDiv = function(clickedId) {

                var arg = {};
                  $('#chart_div').html('<div class="loading-container">' +
                        '<div class="loading-spinner la-ball-spin-clockwise">' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                            '<div></div>' +
                        '</div>' +
                    '</div>');

                $.cookie("activeGraphPeriodOmp", $('.type-of-date').data('report'), { path : '/portal/' });

                $.cookie("activeGraphTypeOmp",$('.type-of-result').data('all'), { path : '/portal/' });

                switch (clickedId) {
                    case "res-by-offnet":
                        btnVal = $("#res-by-offnet").text();
                        duration = $('.type-of-graph').data('duration');
                        $("#type-reports-btn").html(btnVal + ' ' + '<span class="caret"></span>');
                        reportBy = $('.type-of-date').data('report');
                        object = $('.type-of-graph').data('object');
                        $('.type-of-result').data('type', "offnet");
                        if ('show' == 'show') updatePeak(scope, type);
                        arg = {
                            scope: scope,
                            type: "offnet",
                            object: object,
                            reportBy: reportBy,
                            duration: duration
                        };
                        clearAllInterval("res-by-offnet", arg);
                        break;
                    case "res-by-all":
                        btnVal = $("#res-by-all").text();
                        duration = $('.type-of-graph').data('duration');
                        $("#type-reports-btn").html(btnVal + '<span class="caret"></span>');
                        reportBy = $('.type-of-date').data('report');
                        object = $('.type-of-graph').data('object');
                        $('.type-of-result').data('type', "all");
                        if ('show' == 'show') updatePeak(scope, type);
                        arg = {
                            scope: scope,
                            type: "all",
                            object: object,
                            reportBy: reportBy,
                            duration: duration
                        };

                        clearAllInterval("res-by-all", arg);
                        break;

                    case "res-by-hour":
                        btnVal = $("#res-by-hour").text();
                        $("#date-reports-btn").html(btnVal + '<span class="caret"></span>');
                        $('.type-of-date').data('report', 'hour');
                        object = $('.type-of-graph').data('object');
                        duration = $('.type-of-graph').data('duration');
                        type = $('.type-of-result').data('type');
                        if (!$('#res-by-min').length && object == 'call') {
                            $(".time-frame ul").append('<li><a id="res-by-min" onclick="showCurrentDiv(this.id)">' + _("Minute") + '</a></li>');
                        }
                        arg = {
                            scope: scope,
                            type: type,
                            object: object,
                            reportBy: "hour",
                            duration: duration
                        };

                        clearAllInterval("res-by-hour", arg);
                        break;
                    case "res-by-min":
                        if (!$('#res-by-min').length) {
                            $(".time-frame ul").append('<li><a id="res-by-min" onclick="showCurrentDiv(this.id)">' + _("Minute") + '</a></li>');
                        }
                        btnVal = $("#res-by-min").text();
                        if (btnVal == '') btnVal = _("Minute");
                        $("#date-reports-btn").html(btnVal + '<span class="caret"></span>');
                        $('.type-of-date').data('report', 'min');
                        object = $('.type-of-graph').data('object');
                        type = $('.type-of-result').data('type');
                        arg = {
                            scope: scope,
                            type: type,
                            object: object,
                            reportBy: "min"
                        };

                        clearAllInterval("res-by-min", arg);
                        break;
                    case "res-by-day":
                        btnVal = $("#res-by-day").text();
                        $("#date-reports-btn").html(btnVal + '<span class="caret"></span>');
                        $('.type-of-date').data('report', 'day');
                        duration = $('.type-of-graph').data('duration');
                        object = $('.type-of-graph').data('object');
                        if (!$('#res-by-min').length && object == 'call') {
                            $(".time-frame ul").append('<li><a id="res-by-min" onclick="showCurrentDiv(this.id)">' + _("Minute") + '</a></li>');
                        }
                        type = $('.type-of-result').data('type');
                        arg = {
                            scope: scope,
                            type: type,
                            object: object,
                            reportBy: "day",
                            duration: duration
                        };
                        clearAllInterval("res-by-day", arg);
                        break;
                    case "active-calls":
                        if (!$('#res-by-min').length) {
                            $(".time-frame ul").append('<li><a id="res-by-min" onclick="showCurrentDiv(this.id)">' + _("Minute") + '</a></li>');
                        }
                        $('.type-of-graph').data('duration','false');
                        btnVal = $("#active-calls").text();
                        type = $('.type-of-result').data('type');
                        $("#reports-btn").html(btnVal + '<span class="caret"></span>');
                        reportBy = $('.type-of-date').data('report');
                        $('.type-of-graph').data('object', 'call');
                        arg = {
                            scope: scope,
                            type: type,
                            object: 'call',
                            reportBy: reportBy
                        };

                        clearAllInterval("active-calls", arg);
                        break;
                    case "call-volumes":
                        $('.type-of-graph').data('duration','false');
                        $("#res-by-min").remove();
                        btnVal = $("#call-volumes").text();
                        $("#reports-btn").html(btnVal + '<span class="caret"></span>');
                        type = $('.type-of-result').data('type');
                        reportBy = $('.type-of-date').data('report');
                        if (reportBy == 'min') {
                            $("#date-reports-btn").html(_('Hour') + '<span class="caret"></span>');
                            reportBy = "hour";
                        }
                        $('.type-of-graph').data('object', 'cdr2');
                        arg = {
                            scope: scope,
                            type: type,
                            object: 'cdr2',
                            reportBy: reportBy
                        };

                        clearAllInterval("call-volumes", arg);
                        break;
                    case "call-duration":
                        $('.type-of-graph').data('duration','duration');
                        $("#res-by-min").remove();
                        btnVal = $("#call-duration").text();
                        $("#reports-btn").html(btnVal + '<span class="caret"></span>');
                        type = $('.type-of-result').data('type');
                        reportBy = $('.type-of-date').data('report');
                        if (reportBy == 'min') {
                            $("#date-reports-btn").html(_('Hour') + '<span class="caret"></span>');
                            reportBy = "hour";
                        }
                        $('.type-of-graph').data('object', 'cdr2');
                        arg = {
                            scope: scope,
                            type: type,
                            object: 'cdr2',
                            duration: 'duration',
                            reportBy: reportBy
                        };
                        clearAllInterval("call-duration", arg);
                        break;
                }
                drawActiveCallsForUser(arg);

                $.cookie("omp"+'.type-of-date-report',$('.type-of-date').data('report'), { path : '/portal/' });
                $.cookie("omp"+'.type-of-graph-object',$('.type-of-graph').data('object'), { path : '/portal/' });
                $.cookie("omp"+'.type-of-graph-duration',$('.type-of-graph').data('duration'), { path : '/portal/' });
                $.cookie("omp"+'.type-of-result-type',$('.type-of-result').data('type'), { path : '/portal/' });
            }

            if ($.cookie("omp"+'.type-of-graph-object')!=null)
            {
              if ($.cookie("omp"+'.type-of-graph-object')=="call")
              {
                $('.type-of-graph').data('object', 'call');
                $('.type-of-graph').data('duration',false);
                $(".type-of-graph").html($("#active-calls").text() + ' ' + '<span class="caret"></span>');
              }
              else if ($.cookie("omp"+'.type-of-graph-duration')!=null && $.cookie("omp"+'.type-of-graph-duration')=="duration")
              {
                $('.type-of-graph').data('object', 'cdr2');
                $('.type-of-graph').data('duration',true);
                $(".type-of-graph").html($("#call-duration").text() + ' ' + '<span class="caret"></span>');
              }
              else
              {
                $('.type-of-graph').data('object', 'cdr2');
                $('.type-of-graph').data('duration',false);
                $(".type-of-graph").html($("#call-volumes").text() + ' ' + '<span class="caret"></span>');
              }
            }

            if ($.cookie("omp"+'.type-of-date-report')!=null)
            {
              if ($.cookie("omp"+'.type-of-date-report')=="day")
              {
                $('.type-of-date').data('report', 'day');
                $(".type-of-date").html($("#res-by-day").text() + ' ' + '<span class="caret"></span>');
              }
              else if ($.cookie("omp"+'.type-of-date-report')=="min")
              {
                $('.type-of-date').data('report', 'min');
                $(".type-of-date").html($("#res-by-min").text() + ' ' + '<span class="caret"></span>');
              }
              else
              {
                $('.type-of-date').data('report', 'hour');
                $(".type-of-date").html($("#res-by-hour").text() + ' ' + '<span class="caret"></span>');
              }
            }
            if ($.cookie("omp"+'.type-of-result-type')!=null)
            {
                if ($.cookie("omp"+'.type-of-result-type')=="offnet")
                {
                  $('.type-of-result').data('type', 'offnet');
                  $(".type-of-result").html($("#res-by-offnet").text() + ' ' + '<span class="caret"></span>');
                }
                else
                {
                  $('.type-of-result').data('type', 'all');
                  $(".type-of-result").html($("#res-by-all").text() + ' ' + '<span class="caret"></span>');
                }
            }



            var ddefault = $.cookie("activeGraphOmp");
            lastShow = ddefault != null ? ddefault : 'active-calls';

            showCurrentDiv(lastShow);
        });
</script>
        </div>
            </div> <!-- /wrapper -->
        <div id="footer">
                <p>Grid4 Communications</p>
                

        <p>Manager Portal:  44.3.1-beta.29 </p>
                <p>Hostname: gridfour-core-031-mci.gridfour.ucaas.run </p>
            </div>
    
    <!-- javascript debug console toggle -->
    <!-- <a id="js-debug-btn"><i class="icon-eye-open"></i></a> -->

    <!-- majority of javascript at bottom so the page displays faster -->
        <style>
        .flashMessage {
            height: 20px;
            text-align: left;
        }
        .loading-spinner {
            top: 2px;
        }
        .flashMsgContainer {
            font-weight: bold;
            display: inline;
            opacity: 0;
        }
        .flashMsgContainer span {
            font-weight: normal;
            opacity: 0;
        }
        .download-glyph i {
            opacity: 0;
            top: -10px;
            position: relative;
        }
    </style>

    <script type="text/javascript">
    </script>

    <style>
        #flashContainer {
            text-align: center;
        }
        .flashMessage {
            min-height: 20px;
            height: auto;
            display: inline-block;
            text-align: left;
            clear: both;
        }
        .loading-spinner {
            top: 2px;
        }
        .flashMsgContainer {
            font-weight: bold;
            display: none;
            opacity: 0;
        }
        .flashMsgContainer span {
            font-weight: normal;
            opacity: 0;
        }
        .download-glyph i {
            opacity: 0;
            top: -10px;
            position: relative;
        }
    </style>

    <script type="text/javascript">

    var last_clicked; // tracks the last clicked window element

    $(function() {

        window.onclick = function(e) {
            last_clicked = e.target;
            if( last_clicked.dataset.toggle == "confirmation" ) last_clicked = undefined;
            return true;
        }

        window.onbeforeunload = function(event) {
            setTimeout( function() { // wrap in timeout so interaction events (clicks) resolves first [firefox OoO]
                if( typeof(last_clicked) !== 'undefined' ) { // if there was a last_clicked target that triggered the unload
                    if( typeof(last_clicked.href) !== 'undefined' && (last_clicked.href.substr(-3) == 'csv' || last_clicked.href.includes('/csv'))) // if it was a csv link
                        flashDownloader();
                    else if(last_clicked.localName =="i" &&  typeof(last_clicked.parentElement) !== 'undefined' && typeof(last_clicked.parentElement.href) !== 'undefined' && (last_clicked.parentElement.href.substr(-3) == 'csv' || last_clicked.parentElement.href.includes('/csv'))) // if it was a csv link
                        flashDownloader(); //this case handles the icon being clicked.
                    else if( $(last_clicked).data('download-path') ) // if it was a file download btn
                        flashDownloader();
                    else if( $(last_clicked).hasClass('download-audio') ) // if it was a audio download btn
                        flashDownloader();
                    else
                        activateLoadMsg();
                }
                else
                    activateLoadMsg();
            }, 1);
        }

        $('.nav-link').click( function() {
            var clickedItem = $(this);
            if( !clickedItem.parent().hasClass('nav-link-current') ) {
                $('#nav-buttons .loading').removeClass('loading');
                clickedItem.parent().addClass('loading');
                $('.nav-arrow').css('opacity',0);

                $('.nav-arrow').animate({opacity: 0}, 125);
                clickedItem.find('.nav-arrow').animate({opacity: 1}, 125);
                //activateLoadMsg();
            } else {
                activateLoadMsg(true);
            }
        });

        $('#pageRefresh').click( function() {
            window.location.reload();
        });;

        getCount(); //get messages count and update badges

        setInterval(function(){
            //getCount();
        }, 302000);

        dockHeight();//adjust dock overlay and columns on load

        setTimeout(function (){
            checkSession();
        }, 180000);

        // no longer used?
        // $('.chat-message-box').on("keyup", function(e) {
        //
        //     if (e.which == 13) {
        //         $(this).next().trigger("click");
        //     }
        // });

        
                if ('domain' != '1004')
            sGetCallsData('user', sub_domain, '1004');
        

        
        let dockHide = localStorage.getItem('DockPosition');
        if (dockHide == 'hidden') {
            $(".dock-body").hide();
        }

        $.get('/portal/contacts/dock/', function(data) {
            try {
                $('.dock-contacts .dock-body').html(data);
                contactsResize();
                $(document).ready(function () {
                    setTimeout(function () {
                        var allChats = JSON.parse(localStorage.getItem('openChats'))
                        if (allChats) {
                            for (var i = 0; i < allChats.length; i++) {
                                sendPrivateMessage(allChats[i].user, allChats[i].name, true, allChats[i].smsNumber, allChats[i].session_id);
                            }
                            if (dockHide == 'hidden') {
                                $(".dock-body").hide();
                            } else {
                                localStorage.setItem('DockPosition', 'show');
                                $(".dock-body").show();
                                dockHeight();
                                contactsResize();
                            }
                        }
                    }, 500);
                });
            } catch (err) {
                debugger;
                log("error caught - " + err);
                log(data);
            }
            //  initTooltips();

        });
        
});

    //adjust dock overlay and columns on window resize and scroll
    $(window).resize(function() {
        dockHeight();
        contactsResize();
        checkPopupWidth();
    });
    $(window).scroll(function() {
        dockHeight();
        contactsResize();
    });

    //hides or shows dock body based on visibility
    $(document).on('click', '.dock-head-title', function() {
        minimizeDockPopup(this);
    });

    //hides or shows dock body based on visibility
    $(document).on('click', '.dock-minimize', function() {
        minimizeDockPopup(this);
    });

    //close dock popup
    $(document).on('click', '.dock-close', function() {
        $(this).parents('.dock-column').remove();
        $('.dock-popup-overlay .dock-column:hidden').first().show();
    });


    const httpDelete = (url, callback, err = console.error,token ) => {
        const request = new XMLHttpRequest();
        request.open('DELETE', url, true);
        request.setRequestHeader("Authorization", "Bearer"+" " + token);
        request.onload = () => callback(request);
        request.onerror = () => err(request);
        request.send();
    };

    function removeLocalStorageItems() {
        
        var token = localStorage.getItem("ns_t");
        if (token)
            httpDelete('/ns-api/v2/jwt', function() {},console.error,token );
        localStorage.removeItem("ns_t");
        localStorage.removeItem("hiddenChatBoxes");
        localStorage.removeItem("DockPosition");
        // localStorage.removeItem("user_cols_curr_data");
        // localStorage.removeItem("user_cols");
        // localStorage.removeItem("callhistory_cols_curr_data");
        // localStorage.removeItem("callhistory_cols");
    }

    function activateLoadMsg(refresh) {
        setTimeout( function() { // wrap in timeout so activation event resolves first
            var loaderHtml = '<div style="float: right;"><div class="loading-spinner la-ball-spin-clockwise la-sm" style="color: inherit;"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>';
            //var closeBtn = '<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>';
            if( $('.loader-flash').length === 0 ) {
                var loadingMsg = _('Loading')+'...';
                var waitMsg = "Please wait"+'...';

                if( typeof(last_clicked) !== 'undefined')
                    if( $(last_clicked).data('loading-text') ) {
                        loadingMsg = $(last_clicked).data('loading-text');
                    }
                jsFlash(loaderHtml+"<div class='flashMsgContainer loader-flash' style='opacity: 0'>"+loadingMsg+" <span>"+waitMsg+"</span></div>","info",999999, function() {
                    $('.flashMessage.new').css({width:'17px'}).animate({opacity: 1},250);
                    last_clicked = undefined;
                    animateFlashMessage( ( loadingMsg.length + waitMsg.length ) * 8); // calc width of msg for expand anim
                });
            } else {
                $('.loader-flash').animate({opacity: 1},250); // only get here if a new load state is caused before previous load anim completes
            }
        }, 1);
    }

    function deactivateLoadMsg() {
        $('.loader-flash').animate({opacity: 0},250,'easeInOutQuart', function() {
            $(this).animate({width:17},250);
            $(this).parent().animate({opacity:0},600,'linear',function() {
                $(this).remove();
                $(this).parent().remove();
            });
        });
    }

    function animateFlashMessage( width ) {
        setTimeout( function() {
            var newMsg = $('.flashMessage.new');
            var newMsgTxt = $('.flashMessage.new .flashMsgContainer');
            newMsg.removeClass('new').animate({opacity: 1, width: width},500,'easeInOutQuart', function() {
                newMsgTxt.css('display','inline-block').animate({opacity:1},600);
                newMsgTxt.find('span').animate({opacity:1},1000);
            });
        }, 1500);
    }

    function flashDownloader() {
        var dlGlyphHtml = '<div style="float: right;"><div class="download-glyph"><i class="fa fa-download fa-lg" aria-hidden="true"></i></div></div>';
        var waitMsg = "Please wait"+'...';
        var downloadMsg = "Downloading"+'...';

        jsFlash(dlGlyphHtml+"<div class='flashMsgContainer'>"+downloadMsg+"<span> "+waitMsg+"</span></div>","info", 6000, function() {
            $('.flashMessage.new').css({width:'17px'}).animate({opacity: 1},250);
            $('.download-glyph i').animate({opacity: 1, top: '0px'},300);

            last_clicked = undefined;
            animateFlashMessage( (downloadMsg.length + waitMsg.length) * 8 );
        });
    }
    function addAutoCompleteTransfer(){transferautocompleteChoices = [{ id: "index\/filter:extension\/value:1000", value: "1000" },{ id: "index\/filter:extension\/value:12482448100", value: "12482448100" },{ id: "index\/filter:extension\/value:300", value: "300" },{ id: "index\/filter:extension\/value:302", value: "302" },{ id: "index\/filter:extension\/value:303", value: "303" },{ id: "index\/filter:extension\/value:304", value: "304" },{ id: "index\/filter:extension\/value:307", value: "307" },{ id: "index\/filter:extension\/value:308", value: "308" },{ id: "index\/filter:extension\/value:310", value: "310" },{ id: "index\/filter:extension\/value:311", value: "311" },{ id: "index\/filter:extension\/value:316", value: "316" },{ id: "index\/filter:extension\/value:317", value: "317" },{ id: "index\/filter:extension\/value:318", value: "318" },{ id: "index\/filter:extension\/value:319", value: "319" },{ id: "index\/filter:extension\/value:320", value: "320" },{ id: "index\/filter:extension\/value:321", value: "321" },{ id: "index\/filter:extension\/value:323", value: "323" },{ id: "index\/filter:extension\/value:324", value: "324" },{ id: "index\/filter:extension\/value:326", value: "326" },{ id: "index\/filter:extension\/value:327", value: "327" },{ id: "index\/filter:extension\/value:328", value: "328" },{ id: "index\/filter:extension\/value:330", value: "330" },{ id: "index\/filter:extension\/value:332", value: "332" },{ id: "index\/filter:extension\/value:350", value: "350" },{ id: "index\/filter:extension\/value:351", value: "351" },{ id: "index\/filter:extension\/value:360", value: "360" },{ id: "index\/filter:extension\/value:361", value: "361" },{ id: "index\/filter:extension\/value:362", value: "362" },{ id: "index\/filter:extension\/value:368", value: "368" },{ id: "index\/filter:extension\/value:380", value: "380" },{ id: "index\/filter:extension\/value:387", value: "387" },{ id: "index\/filter:extension\/value:396", value: "396" },{ id: "index\/filter:extension\/value:700", value: "700" },{ id: "index\/filter:extension\/value:701", value: "701" },{ id: "index\/filter:extension\/value:702", value: "702" },{ id: "index\/filter:extension\/value:868", value: "868" },{ id: "index\/filter:extension\/value:891", value: "891" },{ id: "index\/filter:extension\/value:892", value: "892" },{ id: "index\/filter:extension\/value:893", value: "893" },{ id: "index\/filter:extension\/value:894", value: "894" },{ id: "index\/filter:extension\/value:895", value: "895" },{ id: "index\/filter:extension\/value:896", value: "896" },{ id: "index\/filter:extension\/value:897", value: "897" },{ id: "index\/filter:extension\/value:898", value: "898" },{ id: "index\/filter:extension\/value:900", value: "900" },{ id: "index\/filter:extension\/value:Billing", value: "Billing" },{ id: "index\/filter:extension\/value:Care", value: "Care" },{ id: "index\/filter:extension\/value:domain", value: "domain" },{ id: "index\/filter:extension\/value:Engineering", value: "Engineering" },{ id: "index\/filter:extension\/value:Field+Services", value: "Field Services" },{ id: "index\/filter:extension\/value:Finance", value: "Finance" },{ id: "index\/filter:extension\/value:MSP", value: "MSP" },{ id: "index\/filter:extension\/value:NOC", value: "NOC" },{ id: "index\/filter:extension\/value:Provisioning", value: "Provisioning" },{ id: "index\/filter:extension\/value:Sales", value: "Sales" },{ id: "index\/filter:extension\/value:TUG", value: "TUG" },{ id: 1001, value: "1001 (Brad Phelps)" },{ id: 1002, value: "1002 (Michael Hopkins)" },{ id: 1003, value: "1003 (Brian Taylor)" },{ id: 1004, value: "1004 (Marc Hopkins)" },{ id: 1005, value: "1005 (Christopher Hopkins)" },{ id: 1006, value: "1006 (Charlie Cassel)" },{ id: 1007, value: "1007 (John Sanderson)" },{ id: 1009, value: "1009 (Mark Sullivan)" },{ id: 1010, value: "1010 (Mariah Villarreal)" },{ id: 12485099296, value: "12485099296 (TOD 12485099296)" },{ id: 1500, value: "1500 (Sales Eng)" },{ id: 1501, value: "1501 (SE Two)" },{ id: 2000, value: "2000 (Lab AA)" },{ id: 2001, value: "2001 (Lab Call Queue)" },{ id: 2002, value: "2002 (Test Call Queue)" },{ id: 2003, value: "2003 (Test Ring Group )" },{ id: 3000, value: "3000 (Simple User)" },{ id: 3001, value: "3001 (Basic User)" },{ id: 3002, value: "3002 (Advanced User)" },{ id: 3003, value: "3003 (CC Agent)" },{ id: 3004, value: "3004 (CC Supervisor)" },{ id: 3005, value: "3005 (Site Manager)" },{ id: 3006, value: "3006 (Office Manager)" },{ id: 3444, value: "3444 (tet Bridge)" },{ id: 700, value: "700 (Park Call Queue)" },{ id: 701, value: "701 (Park One)" },{ id: 9001, value: "9001 (Alice Smith)" },{ id: 9003, value: "9003 (Charlie Williams)" },{ id: 9005, value: "9005 (Eve Davis)" },{ id: 9999, value: "9999 (Test User)" },{ id: "Site One", value: "Site One (Site One Site)" },];$("#transfer-autocomplete").attr("spellcheck",false);$("#transfer-autocomplete").autocomplete({autoFocus: true,minLength: 0,position: { my : "left bottom", at: "left top" },source: function (request, response) {var results = $.ui.autocomplete.filter(transferautocompleteChoices, request.term);log(results.length);let field = $("#name");$.ajax({   url: "/portal/users/validateField/true",        data: { fieldId: "name",fieldValue: request.term, createuser: 1},        success: function(data){           let isValid = data[0] == "name" && data[1];$("#transfer-autocomplete").data("tabblock",false);response(results);        },        error: function(jqXHR, textStatus, errorThrown){            console.log("error occurred!");        },      dataType: "json"    });},select: function(event, ui) {}});}    </script>
            <script type="text/javascript" src="https://cdn.statically.io/gh/paulhshort/grid4-netsapiens-skin/main/grid4-netsapiens.js?v=1.0.12"></script>
            <input type="hidden" name="" value="Conf (900)" id="sip:900.grid4comm@conference-bridge" class="hiddenconflist"></div><!-- /page-container -->
<iframe name="print_frame" width="0" height="0" frameborder="0" src="about:blank"></iframe>


</body>
<script type="text/javascript">
    var inbound_disp = [];
    var outbound_disp = [];
    outbound_disp.push('support');var out_disp_support =[];out_disp_support.push('test');out_disp_support.push('test2');    
    checksubIotumUpdates();
</script>
</html>
<!--June 4, 2025, 10:16 am-->
